<div class="dashboard">
  <!-- Top Navbar -->
  <header class="top-nav">
    <div class="logo">WeCourse
    </div>
    <nav>
      <!-- Home Button -->
<button class="btn primary" (click)="onNavigate('/app-home')">
  <span class="material-symbols-outlined">home</span>
  Home
</button>

<!-- Profile Button (current page) -->
<button class="btn primary" (click)="onNavigate('/student-profile')">
  <span class="material-symbols-outlined">person</span>
  Profile
</button>


      <we-button label="Sign Out" variant="danger" (onClick)="onSignOut()">
        <span class="material-symbols-outlined">logout</span>
      </we-button>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="content">
    <section class="profile-section" *ngIf="student; else loading">
      <h1>Welcome, {{ student.name }}</h1>
      <p><strong>Email:</strong> {{ student.email }}</p>

      <!-- Skills -->
      <div class="skills" *ngIf="student.skills?.length; else noSkills">
        <h3>Skills</h3>
        <div class="skill-list">
          <span *ngFor="let skill of student.skills">{{ skill }}</span>
        </div>
      </div>

      <ng-template #noSkills>
        <p class="no-skill">No skills added yet.</p>
      </ng-template>

    </section>

    <ng-template #loading>
      <p class="loading">Loading your dashboard...</p>
    </ng-template>
  @if(enrollments){
   
  <section class="enrollments">
     <!-- Enrolled Courses -->
      <div class="courses">
  <h3>Enrolled Courses</h3>
 @for (enrollment of enrollments; track enrollment.id) {
  <div >
    <div class="course-card" >
      <h4>{{ enrollment?.courseTitle }}</h4>
       <span 
      [ngClass]="
        enrollment.status === 'COMPLETED'
          ? 'completed'
          : enrollment.status === 'IN_PROGRESS'
          ? 'progress'
          : 'halfway'
      ">
      {{ enrollment.status === 'COMPLETED'
        ? 'Completed'
        : enrollment.status === 'IN_PROGRESS'
        ? 'In progress'
        : 'Halfway' }}
    </span>

      <p>Progress: {{ enrollment?.progressPercentage }}%</p>
    </div>
  </div>}
</div>
  </section>}
</main>
</div>

